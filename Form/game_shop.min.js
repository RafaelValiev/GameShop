"use strict";window.GameShop||(window.GameShop=function(){function a(r,s,t,u,v,w,x){return{id:r,title:s,description:t,isAvailable:u,releaseDate:v,genre:w,developer:x}}function e(){p._data.modalVisibility=!1;const r={Title:$("#newGameTitle").val(),Description:$("#newGameDescription").val(),IsAvailable:$("#newGameAvailability")[0].checked,ReleaseDate:$("#newGameReleaseDate").val(),Genre:p._data.newGameGenre,Developer:p._data.newGameDeveloper};$.ajax({url:"http://localhost:63419/api/gameshop/add_game",type:"POST",data:r,success:function(){location.reload()},error:function(s,t,u){console.log(s),console.log(t),console.log(u)}})}function f(){const r=p._data.games[p._data.selectedGameIndex].id;$.ajax({url:"http://localhost:63419/api/gameshop/delete_game"+"/"+r,type:"GET",success:function(){location.reload()},error:function(s,t,u){console.log(s),console.log(t),console.log(u)}})}function g(){p=new Vue({el:"#gameShop",data:{games:m,developers:o,genres:n,newGameGenre:n[0],newGameDeveloper:o[0],game:m[0],selectedGameIndex:0,search:"",modalVisibility:!1},methods:{selectGame:function(r){this.game=m[r],this.selectedGameIndex=r},addGame:e,deleteGame:f},computed:{filteredGames(){const r=this,s=this.games.filter(function(t){return-1<t.title.toLowerCase().indexOf(r.search.toLowerCase())});return s}}})}let m=[],n=[],o=[],p=null;const q=[];q.push(function(){const r=$.Deferred();return $.ajax({url:"http://localhost:63419/api/gameshop/get_games",type:"GET",success:function(s){m=[],s.forEach(function(t){m.push(a(t.Id,t.Title,t.Description,t.IsAvailable,t.ReleaseDate,t.Genre,t.Developer))}),r.resolve()},error:function(s,t,u){console.log(s),console.log(t),console.log(u),r.reject()}}),r.promise()}()),q.push(function(){const r=$.Deferred();return $.ajax({url:"http://localhost:63419/api/gameshop/get_genres",type:"GET",success:function(s){n=s,r.resolve()},error:function(s,t,u){console.log(s),console.log(t),console.log(u),r.reject()}}),r.promise()}()),q.push(function(){const r=$.Deferred();return $.ajax({url:"http://localhost:63419/api/gameshop/get_developers",type:"GET",success:function(s){o=s,r.resolve()},error:function(s,t,u){console.log(s),console.log(t),console.log(u),r.reject()}}),r.promise()}()),$.when.apply($,q).then(function(){g()})}());